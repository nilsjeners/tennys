(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[675],{7003:function(e,t,n){Promise.resolve().then(n.bind(n,596))},596:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var r=n(7437),a=n(2265),s=n(9376);let l={left:0,right:0,winnerSide:null,baseIndex:0},i={left:{frame:"border-brand-cyan/30 bg-brand-cyan/10",primary:"bg-brand-cyan text-neutral-content",secondary:"bg-brand-cyan/50 text-neutral-content"},right:{frame:"border-accent/30 bg-accent/10",primary:"bg-accent text-neutral-content",secondary:"bg-accent/50 text-neutral-content"}},c=(e,t)=>"left"===e?1===t?{left:6,right:0}:{left:7,right:5}:1===t?{left:0,right:6}:{left:5,right:7},o=(e,t)=>{if("left"===e.winnerSide&&"right"===t){if(6===e.left&&e.right<4)return d({...e,right:e.right+1});if(6===e.left&&4===e.right)return d({...e,left:7,right:5,baseIndex:2});if(7===e.left&&5===e.right)return d({...e,right:6,baseIndex:2});if(7===e.left&&e.right<5)return d({...e,right:e.right+1,baseIndex:2})}if("right"===e.winnerSide&&"left"===t){if(6===e.right&&e.left<4)return d({...e,left:e.left+1});if(6===e.right&&4===e.left)return d({...e,left:5,right:7,baseIndex:2});if(7===e.right&&5===e.left)return d({...e,left:6,baseIndex:2});if(7===e.right&&e.left<5)return d({...e,left:e.left+1,baseIndex:2})}return e},d=e=>e,u=(0,r.jsx)("svg",{"aria-hidden":"true",className:"h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:"1.6",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 7h16M9 7V5a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v2m-9 0 1 12a1 1 0 0 0 1 .9h8a1 1 0 0 0 1-.9l1-12"})}),b=e=>{let{side:t,isDoubles:n}=e,{primary:a,secondary:s}=i[t];return n?(0,r.jsx)("div",{className:"flex h-12 items-center justify-center",children:(0,r.jsxs)("div",{className:"avatar-group -space-x-3",children:[(0,r.jsx)("div",{className:"avatar placeholder",children:(0,r.jsx)("div",{className:"h-12 w-12 rounded-full ring-4 ring-base-100 ".concat(a),children:(0,r.jsx)("span",{className:"text-sm font-semibold",children:"A"})})}),(0,r.jsx)("div",{className:"avatar placeholder",children:(0,r.jsx)("div",{className:"h-12 w-12 rounded-full ring-4 ring-base-100 ".concat(s),children:(0,r.jsx)("span",{className:"text-sm font-semibold",children:"B"})})})]})}):(0,r.jsx)("div",{className:"flex h-12 items-center justify-center",children:(0,r.jsx)("div",{className:"avatar placeholder",children:(0,r.jsx)("div",{className:"h-12 w-12 rounded-full ring-4 ring-base-100 ".concat(a),children:(0,r.jsx)("span",{className:"text-sm font-semibold",children:"A"})})})})};function x(){let e=(0,s.useRouter)(),[t,n]=(0,a.useState)(!1),[x,h]=(0,a.useState)([l]),[f,m]=(0,a.useState)(0),g=e=>"".concat(e.left,":").concat(e.right),p=e=>{h(t=>t.map((t,n)=>n!==f?t:null===t.winnerSide?d({...t,...c(e,1),winnerSide:e,baseIndex:1}):t.winnerSide===e?1===t.baseIndex?d({...t,...c(e,2),baseIndex:2}):2===t.baseIndex?{...l}:d({...t,...c(e,1),baseIndex:1}):o(t,e)))},j=e=>{h(t=>{let n=t.filter((t,n)=>n!==e),r=n.length>0?n:[l];return m(t=>e===t?Math.max(0,Math.min(e-1,r.length-1)):e<t?Math.max(0,t-1):t),r})},N=(0,a.useMemo)(()=>x.map((e,t)=>{let n=t===f;return(0,r.jsxs)("section",{className:"relative rounded-brand border border-base-300/70 bg-base-100/90",children:[(0,r.jsxs)("div",{className:"pointer-events-none absolute inset-x-2 top-1 flex items-center justify-between",children:[(0,r.jsxs)("span",{className:"text-[10px] font-semibold uppercase tracking-[0.22em] text-base-content/60",children:["SATZ ",t+1]}),(0,r.jsx)("button",{type:"button",className:"pointer-events-auto btn btn-ghost btn-xs",onClick:()=>j(t),"aria-label":"Satz ".concat(t+1," loeschen"),children:u})]}),(0,r.jsx)("button",{type:"button",className:"w-full rounded-brand px-2 py-3 text-center text-3xl font-semibold tabular-nums transition ".concat(n?"text-base-content":"text-base-content/70"),onClick:()=>m(t),children:g(e)})]},"set-".concat(t))}),[f,x]);return(0,r.jsx)("main",{className:"min-h-screen bg-base-100 px-6 py-10 text-base-content",children:(0,r.jsxs)("div",{className:"mx-auto flex w-full max-w-3xl flex-col gap-6",children:[(0,r.jsxs)("header",{className:"flex flex-col gap-4",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold uppercase tracking-[0.18em]",children:"Match erfassen"}),(0,r.jsxs)("div",{className:"relative inline-flex w-fit items-center rounded-full border border-base-300 bg-base-200/70 p-1",children:[(0,r.jsx)("span",{className:"absolute inset-y-1 left-1 w-[calc(50%-0.25rem)] rounded-full bg-gradient-to-r from-brand-cyan to-accent bg-[length:200%_100%] transition-[transform,background-position] duration-300 ".concat(t?"translate-x-full bg-right":"translate-x-0 bg-left"),"aria-hidden":"true"}),(0,r.jsx)("button",{type:"button",className:"relative z-10 rounded-full px-5 py-2 text-xs font-semibold uppercase tracking-[0.22em] transition ".concat(t?"text-base-content/70":"text-neutral-content"),onClick:()=>n(!1),children:"Einzel"}),(0,r.jsx)("button",{type:"button",className:"relative z-10 rounded-full px-5 py-2 text-xs font-semibold uppercase tracking-[0.22em] transition ".concat(t?"text-neutral-content":"text-base-content/70"),onClick:()=>n(!0),children:"Doppel"})]})]}),(0,r.jsxs)("section",{className:"rounded-brand border border-base-300 bg-base-200/60 p-3 shadow-sm",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsx)("button",{type:"button",onClick:()=>p("left"),className:"flex w-full flex-col items-center justify-center gap-2 rounded-brand border px-2 py-3 text-center transition hover:border-brand-cyan/60 hover:bg-brand-cyan/15 ".concat(i.left.frame),children:(0,r.jsx)(b,{side:"left",isDoubles:t})}),(0,r.jsx)("button",{type:"button",onClick:()=>p("right"),className:"flex w-full flex-col items-center justify-center gap-2 rounded-brand border px-2 py-3 text-center transition hover:border-accent/60 hover:bg-accent/15 ".concat(i.right.frame),children:(0,r.jsx)(b,{side:"right",isDoubles:t})})]}),(0,r.jsxs)("div",{className:"mt-3 flex flex-col gap-3",children:[N,(0,r.jsx)("button",{type:"button",className:"w-full rounded-brand border border-dashed border-base-300/80 bg-base-100/70 px-2 py-3 text-sm font-semibold uppercase tracking-[0.18em] text-base-content/70 transition hover:border-base-400 hover:text-base-content",onClick:()=>{h(e=>{if(e.length>=7)return e;let t=[...e,l];return m(t.length-1),t})},disabled:x.length>=7,children:"+ N\xe4chster Satz"})]})]}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)("button",{type:"button",className:"btn btn-primary",onClick:()=>{let n=encodeURIComponent(JSON.stringify(x));e.push("/wizard/match/result?doubles=".concat(t?"1":"0","&sets=").concat(n))},children:"Fertig"})})]})})}},9376:function(e,t,n){"use strict";var r=n(5475);n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}}),n.o(r,"useSearchParams")&&n.d(t,{useSearchParams:function(){return r.useSearchParams}})}},function(e){e.O(0,[971,117,744],function(){return e(e.s=7003)}),_N_E=e.O()}]);